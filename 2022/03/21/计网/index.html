<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="代码,博客" />
       
      <meta name="description" content="my blog" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>计网 |  Welcome to jxx&#39;s blog</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-计网"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  计网
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/03/21/%E8%AE%A1%E7%BD%91/" class="article-date">
  <time datetime="2022-03-21T06:47:00.000Z" itemprop="datePublished">2022-03-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%AB%E8%82%A1%E6%96%87/">八股文</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">11.8k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">41 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <span id="more"></span>

<blockquote>
<p>1Mbit/s=1/8×10^6^<br>1Gbit/s=1/8×10^9^<br>1k=2×2^10^<br>1M=2×2^20^<br>1G=2×2^30^<br>1byte=8bit</p>
</blockquote>
<h1 id="第-1-章-概述"><a href="#第-1-章-概述" class="headerlink" title="第 1 章 概述"></a>第 1 章 概述</h1><h2 id="1-1计算机网络在信息时代中的作用"><a href="#1-1计算机网络在信息时代中的作用" class="headerlink" title="1.1计算机网络在信息时代中的作用"></a>1.1计算机网络在信息时代中的作用</h2><p> 互联网的 2 个重要基本特点</p>
<ul>
<li>连通性</li>
<li>资源共享</li>
</ul>
<hr>
<h2 id="1-2互联网概述"><a href="#1-2互联网概述" class="headerlink" title="1.2互联网概述"></a>1.2互联网概述</h2><h3 id="1-2-1-网络的网络"><a href="#1-2-1-网络的网络" class="headerlink" title="1.2.1 网络的网络"></a>1.2.1 网络的网络</h3><p>计算机网络：<br>由若干节点(node)和连接这些节点的链路(link)组成。<br>节点可以是计算机、集线器、交换机或路由器等。<br>网络：把许多计算机连接在一起</p>
<p><font color='red'> 互连网的定义</font></p>
<p><strong>互连网:把许多网络通过路由器连接在一起,与网络相连的计算机常称为主机</strong></p>
<p><font color='red'> 连接在因特网上的计算机都称为主机</font></p>
<p>注意:互连网不等于互联网！任意把几个计算机网络互连起来（不管采用什么协议），并能够相互通信，这样构成的是一个互连网，而不是互联网。</p>
<h3 id="1-2-2-互联网基础结构发展的三个阶段"><a href="#1-2-2-互联网基础结构发展的三个阶段" class="headerlink" title="1.2.2 互联网基础结构发展的三个阶段"></a>1.2.2 互联网基础结构发展的三个阶段</h3><p><img src="https://img-blog.csdnimg.cn/fe42a8f629ca4b7c88c7063824b5e108.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h4><p><img src="https://img-blog.csdnimg.cn/f6ecd484505f40a6ad7ced898756834a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="第二阶段-建成了三级结构的互联网"><a href="#第二阶段-建成了三级结构的互联网" class="headerlink" title="第二阶段:建成了三级结构的互联网"></a>第二阶段:建成了三级结构的互联网</h4><p>它是一个三级计算机网络，分为主干网、地区网和校园网（或企业网）<img src="https://img-blog.csdnimg.cn/4783fd55b324479ab67b86a5030548aa.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="第三阶段"><a href="#第三阶段" class="headerlink" title="第三阶段"></a>第三阶段</h4><p><img src="https://img-blog.csdnimg.cn/af3f335cde2f4a7894eb67906e424e7a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="1-2-3-互联网的标准化工作"><a href="#1-2-3-互联网的标准化工作" class="headerlink" title="1.2.3 互联网的标准化工作"></a>1.2.3 互联网的标准化工作</h3><p><img src="https://img-blog.csdnimg.cn/55295e540cd341c38a56d1a7d84e0095.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<hr>
<h2 id="1-3-互联网的组成"><a href="#1-3-互联网的组成" class="headerlink" title="1.3 互联网的组成"></a>1.3 互联网的组成</h2><p>边缘部分： 由所有连接在互联网上的主机组成，由用户直接使用，用来进行通信（传送数据、音频或视频）和资源共享。<br>核心部分：由大量网络和连接这些网络的路由器组成，<strong>为边缘部分提供服务</strong>（提供连通性和交换）。</p>
<h3 id="1-3-1-互联网的边缘部分"><a href="#1-3-1-互联网的边缘部分" class="headerlink" title="1.3.1 互联网的边缘部分"></a>1.3.1 互联网的边缘部分</h3><p>互联网的所有主机在边缘部分，这些主机又称为端系统<br><strong>主机a和主机b进行通信实际上是主机a的某个进程和主机b上的某个进程在进行通信</strong><br>端系统之间的通信方式有两种</p>
<ol>
<li>客户-服务器方式（C/S方式）</li>
</ol>
<ul>
<li>客户软件客户和服务器都是指通信中所涉及的两个应用进程<br>客户始终是主动发起请求。当它打算通信的时候就主动的向原地服务器发起通信(请求服务)因此，客户程序必须知道服务器的地址。</li>
<li>服务器软件<br>系统启动后就一直在运行，被动的等待来自各地的客户发来通信请求。所以他不需要知道客户的地址。</li>
</ul>
<ol start="2">
<li> 对等方式（P2P方式）<br>其实实际上还是cs方式，只是这个端系统既是c也是s<h3 id="1-3-2-互联网的核心部分"><a href="#1-3-2-互联网的核心部分" class="headerlink" title="1.3.2 互联网的核心部分"></a>1.3.2 互联网的核心部分</h3>在网络核心部分起特殊作用的是路由器，它是一种专用计算机（但不叫做主机）。路由器是实现分组交换(packet switching)的关键构件，其任务是转发收到的分组<br>向网络边缘中的主机<strong>提供连通性</strong>，使任何一台主机都能够向其他主机通信。<h4 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h4>分为三个阶段：<br>建立连接：建立一条专用的物理通路（占用通信资源）。<br>通话：主叫和被叫双方互相通电话（一直占用通信资源）。<br>释放连接：释放刚才使用的专用的物理通路（归还通信资源）。</li>
</ol>
<p><strong>电路交换特点：通话的两个用户始终占用端到端的通信资源</strong></p>
<h4 id="分组交换：采用存储转发技术"><a href="#分组交换：采用存储转发技术" class="headerlink" title="分组交换：采用存储转发技术"></a>分组交换：采用存储转发技术</h4><p><img src="https://img-blog.csdnimg.cn/88b13f37c6a1472ebdd416c765cdd86d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/d1e9dac61b294266a9269e247a6d9964.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/57341f04cee24eaebbd1fe3df0135b73.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="报文交换"><a href="#报文交换" class="headerlink" title="报文交换"></a>报文交换</h4><p><img src="https://img-blog.csdnimg.cn/19c1b051cc764fd4b0ae278e0eff9da8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h5 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h5><p>若要连续传送大量的数据，且其传送时间远大于连接建立时间，则电路交换的传输速率较快。<br>报文交换和分组交换不需要预先分配传输带宽，在传送突发数据时可提高整个网络的信道利用率。<br>由于一个分组的长度往往远小于整个报文的长度，因此分组交换比报文交换的时延小，同时也具有更好的灵活性。</p>
<hr>
<h2 id="1-4-计算机网络在我国的发展"><a href="#1-4-计算机网络在我国的发展" class="headerlink" title="1.4 计算机网络在我国的发展"></a>1.4 计算机网络在我国的发展</h2><hr>
<h2 id="1-5-计算机网络的类别"><a href="#1-5-计算机网络的类别" class="headerlink" title="1.5 计算机网络的类别"></a>1.5 计算机网络的类别</h2><h3 id="1-5-1-计算机网络的定义"><a href="#1-5-1-计算机网络的定义" class="headerlink" title="1.5.1 计算机网络的定义"></a>1.5.1 计算机网络的定义</h3><h3 id="1-5-2-几种不同类别的计算机网络"><a href="#1-5-2-几种不同类别的计算机网络" class="headerlink" title="1.5.2 几种不同类别的计算机网络"></a>1.5.2 几种不同类别的计算机网络</h3><p><font color='red'> 网络分类</font></p>
<ol>
<li>按照网络的作用范围进行分类</li>
</ol>
<ul>
<li>广域网</li>
<li>城域网</li>
<li>局域网</li>
<li>个人局域网</li>
</ul>
<ol start="2">
<li>按照网络的使用者进行分类<br><img src="https://img-blog.csdnimg.cn/89a1e877d74846cb80b968e43bdebf56.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
<li> 用来把用户接入到互联网的网</li>
</ol>
<hr>
<h2 id="1-6-计算机网络的性能"><a href="#1-6-计算机网络的性能" class="headerlink" title="1.6 计算机网络的性能"></a>1.6 计算机网络的性能</h2><h3 id="1-6-1-计算机网络的性能指标"><a href="#1-6-1-计算机网络的性能指标" class="headerlink" title="1.6.1 计算机网络的性能指标"></a>1.6.1 计算机网络的性能指标</h3><h4 id="1-速率-最重要的一个性能指标"><a href="#1-速率-最重要的一个性能指标" class="headerlink" title="1.速率 最重要的一个性能指标"></a>1.速率 最重要的一个性能指标</h4><p>速率往往是指额定速率或标称速率，非实际运行速率。<br>是实际值<br>指的是数据的传送速率，也称为数据率 (data rate) 或比特率 (bit rate)。<br><img src="https://img-blog.csdnimg.cn/eac47cc977474a539b5a8290e807583e.png" alt="在这里插入图片描述"></p>
<h4 id="2-带宽"><a href="#2-带宽" class="headerlink" title="2.带宽"></a>2.带宽</h4><p>是分配值<br><img src="https://img-blog.csdnimg.cn/9334805ba9e74756ad0c549cb3eddb8f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="3-吞吐量"><a href="#3-吞吐量" class="headerlink" title="3.吞吐量"></a>3.吞吐量</h4><p>单位时间内通过某个网络（或信道、接口）的实际数据量。<br>受网络的带宽或网络的额定速率的限制。</p>
<ul>
<li>额定速率是绝对上限值。 </li>
<li>可能会远小于额定速率，甚至下降到零！</li>
</ul>
<p>有时可用每秒传送的字节数或帧数来表示</p>
<h4 id="4-时延"><a href="#4-时延" class="headerlink" title="4.时延"></a>4.时延</h4><p>指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。<br>有时也称为延迟或迟延。<br>组成：</p>
<ol>
<li><p>发送时延：所有数据从我的计算机被吐出去所花的时间就是发送时延<br><img src="https://img-blog.csdnimg.cn/6fab064ffb564162acc771eea732e231.png" alt="在这里插入图片描述"></p>
</li>
<li><p>传播时延:是电磁波在信道中传播一定的距离需要花费的时间。<br>注意：发送时延与传播时延有本质上的不同。<br>发送时延发生在<strong>机器内部的发送器</strong>中，与传输信道的长度（或信号传送的距离）没有任何关系。<br>传播时延则发生在<strong>机器外部的传输信道媒体</strong>上，而与信号的发送速率无关。信号传送的距离越远，传播时延就越大。</p>
</li>
</ol>
<blockquote>
<p>电磁波传播速率：<br>自由空间的传播速率是光速 = 3.0 ⅹ 105 km/s<br>在铜线电缆中的传播速率约 = 2.3 ⅹ 105 km/s<br>在光纤中的传播速率约 = 2.0 ⅹ 105 km/s</p>
</blockquote>
<ol start="3">
<li>处理时延<br>主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间。 </li>
<li>排队时延<br>分组在路由器输入输出队列中排队等待处理和转发所经历的时延。<br>排队时延的长短往往取决于网络中当时的通信量。<strong>当网络的通信量很大时会发生队列溢出，使分组丢失，这相当于排队时延为无穷大。</strong><br><img src="https://img-blog.csdnimg.cn/a3c6ca03de15460f8b6c1bebac4ee772.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>以下说法是错误的：<br>“在高速链路（或高带宽链路）上，比特会传送得更快些”。</li>
</ol>
<p><font color='red'> 对于高速网络链路，我们提高的仅仅是数据的发送速率，而不是比特在链路上的传播速率。</p>
<p>提高数据的发送速率只是减小了数据的发送时延。</p>
<h4 id="5-时延带宽积"><a href="#5-时延带宽积" class="headerlink" title="5. 时延带宽积"></a>5. 时延带宽积</h4><p><img src="https://img-blog.csdnimg.cn/ebda0a81239a4a4997a50580f9d69a2b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="6-往返时间-RTT"><a href="#6-往返时间-RTT" class="headerlink" title="6. 往返时间 RTT"></a>6. 往返时间 RTT</h4><p><img src="https://img-blog.csdnimg.cn/56995e8bef7447c1b91007aeffb772f4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="7-·利用率"><a href="#7-·利用率" class="headerlink" title="7.·利用率"></a>7.·利用率</h4><p><img src="https://img-blog.csdnimg.cn/d3f693b577314cf69df9e43f0c832c4f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>时延与网络利用率的关系<br><img src="https://img-blog.csdnimg.cn/fec8d17927f84a918f1c2a09d7b0a2ad.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="1-6-2-计算机网络的非性能特征"><a href="#1-6-2-计算机网络的非性能特征" class="headerlink" title="1.6.2 计算机网络的非性能特征"></a>1.6.2 计算机网络的非性能特征</h3><p><img src="https://img-blog.csdnimg.cn/87cc549ac64745638a518dd3865e0647.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<hr>
<h2 id="1-7-计算机网络体系结构"><a href="#1-7-计算机网络体系结构" class="headerlink" title="1.7 计算机网络体系结构"></a>1.7 计算机网络体系结构</h2><h3 id="1-7-1-计算机网络体系结构的形成"><a href="#1-7-1-计算机网络体系结构的形成" class="headerlink" title="1.7.1 计算机网络体系结构的形成"></a>1.7.1 计算机网络体系结构的形成</h3><ol>
<li>必须有一条传送数据的通路。</li>
<li> 发起方必须激活通路。</li>
<li> 要告诉网络如何识别接收方。</li>
<li>发起方要清楚对方是否已开机，且与网络连接正常。</li>
<li>发起方要清楚对方是否准备好接收和存储文件。</li>
<li>若文件格式不兼容，要完成格式的转换。</li>
<li>要处理各种差错和意外事故，保证收到正确的文件。<h3 id="1-7-2-协议与划分层次"><a href="#1-7-2-协议与划分层次" class="headerlink" title="1.7.2 协议与划分层次"></a>1.7.2 协议与划分层次</h3>三个组成要素：<br>语法：数据与控制信息的结构或格式 。<br>语义：需要发出何种控制信息，完成何种动作以及做出何种响应。<br>同步：事件实现顺序的详细说明。<br><img src="https://img-blog.csdnimg.cn/a0f0f7bb95fb4c10835206a372b0e655.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>差错控制：使相应层次对等方的通信更加可靠。<br>流量控制：发送端的发送速率必须使接收端来得及接收，不要太快。<br>分段和重装：发送端将要发送的数据块划分为更小的单位，在接收端将其还原。<br>复用和分用：发送端几个高层会话复用一条低层的连接，在接收端再进行分用。<br>连接建立和释放：交换数据前先建立一条逻辑连接，数据传送结束后释放连接。</li>
</ol>
<h4 id="分层的优点与缺点"><a href="#分层的优点与缺点" class="headerlink" title="分层的优点与缺点"></a>分层的优点与缺点</h4><p>优点：<br>各层之间是独立的。<br>灵活性好。<br>结构上可分割开。<br>易于实现和维护<br>能促进标准化工作<br>缺点：<br>有些功能会重复出现，因而产生了额外开销。</p>
<h3 id="1-7-3-具有五层协议的体系结构"><a href="#1-7-3-具有五层协议的体系结构" class="headerlink" title="1.7.3 具有五层协议的体系结构"></a>1.7.3 具有五层协议的体系结构</h3><ol>
<li>物理层</li>
<li>数据链路层</li>
<li>网络层</li>
<li>运输层</li>
</ol>
<ul>
<li>任务：负责向两台主机中进程之间的通信提供通用的数据传输服务。<br>具有复用和分用的功能。<br>主要使用两种协议：<br>传输控制协议 TCP<br>用户数据报协议 UDP 。<br>TCP (Transmission Control Protocol)：<br>提供面向连接的、可靠的数据传输服务。<br>数据传输的单位是报文段 (segment)。<br>UDP (User Datagram Protocol)：<br>提供无连接的尽最大努力 (best-effort) 的数据传输服务（不保证数据传输的可靠性）。<br>数据传输的单位是用户数据报。</li>
</ul>
<ol start="5">
<li>应用层 </li>
</ol>
<ul>
<li>任务：通过应用进程间的交互来完成特定网络应用。<br>协议：定义的是应用进程间通信和交互的规则。<br>把应用层交互的数据单元称为报文(message)。<br>例如：DNS，HTTP，SMTP</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/182ba7eeb5154866bf17e8703df3a984.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="1-7-4-实体、协议、服务和服务访问点"><a href="#1-7-4-实体、协议、服务和服务访问点" class="headerlink" title="1.7.4 实体、协议、服务和服务访问点"></a>1.7.4 实体、协议、服务和服务访问点</h3><p>实体 (entity) ：表示任何可发送或接收信息的硬件或软件进程。<br>协议：控制两个对等实体进行通信的规则的集合。<br>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。<br>要实现本层协议，还需要使用下层所提供的服务。<br>本层的服务用户只能看见服务而无法看见下面的协议。<br><img src="https://img-blog.csdnimg.cn/21f283f1de2d4919a2af11b7518943d0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="1-7-5-TCP-IP-的体系结构"><a href="#1-7-5-TCP-IP-的体系结构" class="headerlink" title="1.7.5 TCP/IP 的体系结构"></a>1.7.5 TCP/IP 的体系结构</h3><p><img src="https://img-blog.csdnimg.cn/d96e6dd20357493bbdd50dd5aa8af9ce.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<hr>
<h1 id="第-3-章-数据链路层"><a href="#第-3-章-数据链路层" class="headerlink" title="第 3 章 数据链路层"></a>第 3 章 数据链路层</h1><p><img src="https://img-blog.csdnimg.cn/eaa7356310fa444dba5319ea5a0176aa.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="3-1-使用点对点信道的数据链路层"><a href="#3-1-使用点对点信道的数据链路层" class="headerlink" title="3.1 使用点对点信道的数据链路层"></a>3.1 使用点对点信道的数据链路层</h2><h3 id="3-1-1-数据链路和帧"><a href="#3-1-1-数据链路和帧" class="headerlink" title="3.1.1 数据链路和帧"></a>3.1.1 数据链路和帧</h3><p><font color='red'> 数据链路”相对于“链路”,主要区别在于必须有数据通信协议</p>
<p>连接在因特网上的计算机都称为主机</font><br><strong>链路 (link) ：</strong></p>
<ul>
<li>一条无源的点到点的物理线路段，中间没有任何其他的交换结点。</li>
<li>一条链路只是一条通路的一个组成部分。</li>
<li>或物理链路。</li>
</ul>
<p><strong>数据链路 (data link)：</strong></p>
<ul>
<li>把<strong>实现控制数据传输的协议的硬件和软件加到链路</strong>上，就构成了数据链路。</li>
<li>或逻辑链路。</li>
<li>典型实现：适配器（即网卡）<br>####<font color='red'>数据链路层的三个基本问题</font><h4 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h4><img src="https://img-blog.csdnimg.cn/4238a8205c124eff8fa47950b0190a47.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>最大传送单元 MTU (Maximum Transfer Unit) ：规定了所能传送的帧的数据部分长度上限。</li>
</ul>
<p>封装成帧 (framing)：在一段数据的前后分别添加首部和尾部，构成一个帧。<br>首部和尾部的一个重要作用就是进行帧定界（即确定帧的界限）。<br><img src="https://img-blog.csdnimg.cn/b7e84ff7bd084e28874596ecac1e44fe.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>问题:在传输的数据中可能恰好出现和SOH或EOT一样的byte序列，导致帧无法正确传输</p>
<h4 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h4><p>“在数据链路层透明传送数据”表示：无论发送什么样的比特组合的数据，这些数据都能够按照原样没有差错地通过这个数据链路层。<br><img src="https://img-blog.csdnimg.cn/d5d1844b1f594030a0caeba76bb908ef.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h4><p>在传输过程中可能会产生比特差错<br>在一段时间内，传输错误的比特占所传输比特总数的比率称为误码率 BER (Bit Error Rate)。<br><img src="https://img-blog.csdnimg.cn/645e944657994a91955a6ccc202ec522.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h5 id="CRC-冗余码的计算"><a href="#CRC-冗余码的计算" class="headerlink" title="CRC 冗余码的计算"></a>CRC 冗余码的计算</h5><ol>
<li>原始数据M,除数P(n+1位),在M后补n个0</li>
<li>用补完后的数除以P,得出商是Q，余数是R，余数R是 n 位。 </li>
<li>将余数 R 作为冗余码拼接在数据 M 后面，一起发送出去。</li>
</ol>
<p>可靠传输：数据链路层的发送端发送什么，在接收端就收到什么。<br>传输差错可分为两大类：<br>比特差错；<br>传输差错：帧丢失、帧重复或帧失序等。<br>在数据链路层使用 CRC 检验，能够实现无比特差错的传输，但这还不是可靠传输。<br>要做到可靠传输，还必须再加上帧编号、确认和重传等机制。 </p>
<h2 id="3-2-点对点协议-PPP"><a href="#3-2-点对点协议-PPP" class="headerlink" title="3.2 点对点协议 PPP"></a>3.2 点对点协议 PPP</h2><p><font color='red'>PPP的三个组成部分</font></p>
<p>三个组成部分：</p>
<ul>
<li>一个将 IP 数据报封装到串行链路的方法。</li>
<li>一个链路控制协议 LCP</li>
<li>一套网络控制协议 NCP<h3 id="3-2-1-PPP-协议的特点"><a href="#3-2-1-PPP-协议的特点" class="headerlink" title="3.2.1 PPP 协议的特点"></a>3.2.1 PPP 协议的特点</h3></li>
</ul>
<ol>
<li>PPP 协议应满足的需求</li>
</ol>
<ul>
<li>简单 ——首要要求。</li>
<li>封装成帧 —— 必须规定特殊的字符作为帧定界符。</li>
<li>透明性 —— 必须保证数据传输的透明性。</li>
<li>多种网络层协议 —— 能够在同一条物理链路上同时支持多种网络层协议。</li>
<li>多种类型链路 —— 能够在多种类型的链路上运行。</li>
<li>差错检测 —— 能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。</li>
<li>检测连接状态 —— 能够及时自动检测出链路是否处于正常工作状态。</li>
<li>最大传送单元 —— 必须对每一种类型的点对点链路设置最大传送单元  MTU 的标准默认值，促进各种实现之间的互操作性。</li>
<li>网络层地址协商 —— 必须提供一种机制使通信的两个网络层实体能够通过协商知道或能够配置彼此的网络层地址。</li>
<li>数据压缩协商 —— 必须提供一种方法来协商使用数据压缩算法。</li>
</ul>
<p><font color='red'>PPP不支持半双工通信</font></p>
<ol start="2">
<li>PPP协议不需要的功能</li>
</ol>
<ul>
<li>纠错</li>
<li>流量控制</li>
<li>序号(不需要给帧加序号)</li>
<li>多点线路</li>
<li>半双工或单工链路<h3 id="3-2-2-PPP-协议的帧格式"><a href="#3-2-2-PPP-协议的帧格式" class="headerlink" title="3.2.2 PPP 协议的帧格式"></a>3.2.2 PPP 协议的帧格式</h3><img src="https://img-blog.csdnimg.cn/93029d0738af43fea5a080a9a268c649.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>当 PPP 用在异步传输时，使用字节填充法。<br><img src="https://img-blog.csdnimg.cn/b7ddde3b3bb04d90af3d2177c6f3fc84.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<p>当 PPP 用在同步传输链路时，采用零比特填充法。<br><img src="https://img-blog.csdnimg.cn/4558b736a79f41fea60562545cbdd2ef.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="3-2-3-PPP-协议的工作状态"><a href="#3-2-3-PPP-协议的工作状态" class="headerlink" title="3.2.3 PPP 协议的工作状态"></a>3.2.3 PPP 协议的工作状态</h3><p>PPP 链路初始化过程：<br>用户拨号接入 ISP 后，就建立了一条从用户个人电脑到 ISP 的物理连接。<br>用户个人电脑向 ISP 发送一系列的链路控制协议 LCP 分组（封装成多个 PPP 帧），以便建立LCP连接。<br>之后进行网络层配置。网络控制协议 NCP 给新接入的用户个人电脑分配一个临时的 IP 地址。<br>当用户通信完毕时，NCP 释放网络层连接，收回原来分配出去的IP地址。LCP 释放数据链路层连接。最后释放的是物理层的连接。</p>
<h2 id="3-3-使用广播信道的数据链路层"><a href="#3-3-使用广播信道的数据链路层" class="headerlink" title="3.3 使用广播信道的数据链路层"></a>3.3 使用广播信道的数据链路层</h2><p><font color='red'>广域网通常在数据链路层不采用广播信道</font></p>
<h3 id="3-3-1-局域网的数据链路层"><a href="#3-3-1-局域网的数据链路层" class="headerlink" title="3.3.1 局域网的数据链路层"></a>3.3.1 局域网的数据链路层</h3><p>局域网最主要的特点：<br>网络为一个单位所拥有；<br>地理范围和站点数目均有限。<br>局域网具有如下主要优点：<br>具有广播功能，从一个站点可很方便地访问全网。<br>便于系统的扩展和逐渐地演变，各设备的位置可灵活调整和改变。<br>提高了系统的可靠性、可用性和生存性。</p>
<p>共享信道带来的问题：<br>若多个设备在共享的广播信道上同时发送数据，则会造成彼此干扰，导致发送失败。<br>媒体共享技术</p>
<ul>
<li>静态划分信道：<br>频分复用<br>时分复用<br>波分复用<br>码分复用<br>动态媒体接入控制（多点接入）：<br>随机接入：所有的用户可随机地发送信息。<br>受控接入：用户必须服从一定的控制。如轮询(polling)。<h4 id="适配器的作用"><a href="#适配器的作用" class="headerlink" title="适配器的作用"></a>适配器的作用</h4></li>
</ul>
<ol>
<li>进行串行/并行转换</li>
<li>对数据进行缓存</li>
<li>在计算机的os安装设备驱动程序</li>
<li>实现以太网协议<h3 id="3-3-2-CSMA-CD-协议"><a href="#3-3-2-CSMA-CD-协议" class="headerlink" title="3.3.2 CSMA/CD 协议"></a>3.3.2 CSMA/CD 协议</h3>最早的以太网：将许多计算机都连接到一根总线上。<br>总线特点：易于实现广播通信，简单，可靠。<br>为了实现一对一通信，将接收站的硬件地址写入帧首部中的目的地址字段中。仅当数据帧中的目的地址与适配器硬件地址一致时，才能接收这个数据帧。<h4 id="以太网采取的-2-种重要措施"><a href="#以太网采取的-2-种重要措施" class="headerlink" title="以太网采取的 2 种重要措施"></a>以太网采取的 2 种重要措施</h4></li>
<li>采用较为灵活的无连接的工作方式。</li>
</ol>
<ul>
<li>不必先建立连接就可以直接发送数据。</li>
<li>对发送的数据帧不进行编号，也不要求对方发回确认。<br><img src="https://img-blog.csdnimg.cn/f35ffa8efb0c4120a9f1539cbcc01be2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'>以太网发送的数据都使用曼彻斯特编码</font><br><img src="https://img-blog.csdnimg.cn/1a09932093de408aac49153334139cdb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<p>为什么要进行碰撞检测？ 因为信号传播时延对载波监听产生了影响<br><img src="https://img-blog.csdnimg.cn/984493285dd74629a8e8e2727a40c98f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="争用期"><a href="#争用期" class="headerlink" title="争用期"></a>争用期</h4><p>以太网的端到端往返时延 2tao 称为争用期，或碰撞窗口。 具体的争用期时间 = 51.2 μs。</p>
<h4 id="二进制指数类型退避算法"><a href="#二进制指数类型退避算法" class="headerlink" title="二进制指数类型退避算法"></a>二进制指数类型退避算法</h4><p><font color='red'> 当重传达 16 次仍不能成功时即丢弃该帧，并向高层报告。</font><br>碰撞后重传的时机<br>采用<strong>截断二进制指数退避</strong> (truncated binary exponential backoff) 确定。<br>发生碰撞的站停止发送数据后，要退避一个随机时间后再发送数据。</p>
<ol>
<li>基本退避时间 = 2tao</li>
<li>从整数集合 [0, 1, … , (2k - 1)] 中随机地取出一个数，记为 r。<br>  重传所需的时延 =  r ⅹ 基本退避时间。</li>
<li>参数 k = Min[重传次数, 10]</li>
<li>当重传达 16 次仍不能成功时即丢弃该帧，并向高层报告。 <br></li>
</ol>
<p>以太网规定了<font color="red"><strong>最短有效帧长为 64 字节</strong>。</font>凡长度小于 64 字节的帧都是由于冲突而异常中止的无效帧，应当立即将其丢弃<br>以太网最大端到端单程时延必须小于争用期的一半 (即 25.6 μs)，相当于以太网的最大端到端长度约为 5 km。</p>
<hr>
<h4 id="CSMA-CD-协议的要点"><a href="#CSMA-CD-协议的要点" class="headerlink" title="CSMA/CD 协议的要点"></a>CSMA/CD 协议的要点</h4><p>CSMA/CD (Carrier Sense Multiple Access with Collision Detection) ：载波监听多点接入 / 碰撞检测。</p>
<ul>
<li>多点接入：说明这是总线型网络。许多计算机以多点接入的方式连接在一根总线上。</li>
<li>载波监听：即“边发送边监听”。不管在想要发送数据之前，还是在发送数据之中，每个站都必须不停地检测信道。每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。如果有，那就等等，先不要发送，以免发生碰撞。</li>
<li>碰撞检测：适配器边发送数据，边检测信道上的信号电压的变化情况。电压摆动值超过一定的门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞（或冲突）。<br><img src="https://img-blog.csdnimg.cn/bff5b53bd6fe44448e365063e5683dce.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<p><strong>先听后发，边听边发，冲突停止，延迟重发</strong></p>
<ul>
<li>网络负载轻（40％以内）时，有较好的性能<br>延迟较小</li>
<li>网络负载重时，性能急剧下降</li>
</ul>
<ol>
<li>冲突数量增加</li>
</ol>
<ul>
<li>各工作站需要频繁执行重发操作</li>
<li>大量的重发操作反过来又使冲突率进一步增加</li>
</ul>
<ol start="2">
<li>网络延迟增大</li>
<li>延迟时间不可预计（非确定性延迟）           </li>
</ol>
<h3 id="3-3-3-使用集线器的星形拓扑"><a href="#3-3-3-使用集线器的星形拓扑" class="headerlink" title="3.3.3 使用集线器的星形拓扑"></a>3.3.3 使用集线器的星形拓扑</h3><h4 id="星形以太网-10BASE-T"><a href="#星形以太网-10BASE-T" class="headerlink" title="星形以太网 10BASE-T"></a>星形以太网 10BASE-T</h4><p><img src="https://img-blog.csdnimg.cn/da9474002c4e418fab848e25807a5e2e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 10 Mbit/s 以太网争用期的长度</font><br>10BASE-T网络使用CSMA/CD协议，争用期的时长为（   51.2    ）微秒，当出现冲突时，为强化碰撞，结点会发送长度为32或（  48     ）比特长的人为干扰信号。<br><img src="https://img-blog.csdnimg.cn/7215d32f36b9497195fa71771389d789.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><font color='red'> 集线器工作在物理层</font></p>
<h3 id="3-3-4-以太网的信道利用率"><a href="#3-3-4-以太网的信道利用率" class="headerlink" title="3.3.4 以太网的信道利用率"></a>3.3.4 以太网的信道利用率</h3><p>多个站在以太网上同时工作就可能会发生碰撞。</p>
<p>当发生碰撞时，信道资源实际上是被浪费了。因此，当扣除碰撞所造成的信道损失后，以太网总的信道利用率并不能达到 100%。</p>
<p><img src="https://img-blog.csdnimg.cn/b110ff85623741989d5f626d116b59d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="参数-a-与利用率"><a href="#参数-a-与利用率" class="headerlink" title="参数 a 与利用率"></a>参数 a 与利用率</h4><p>要提高以太网的信道利用率，就必须减小 tao 与 T0 之比。<br>在以太网中定义了参数 a = 以太网单程端到端时延   与帧的发送时间 T0 之比：<br><img src="https://img-blog.csdnimg.cn/a863337e637c42128e442b8d57acc951.png" alt="在这里插入图片描述"><br>a → 0，表示一发生碰撞就立即可以检测出来， 并立即停止发送，因而信道利用率很高。<br>a 越大，表明争用期所占的比例增大，每发生一次碰撞就浪费许多信道资源，使得信道利用率明显降低。<br><img src="https://img-blog.csdnimg.cn/b476101a74364c9285af9933a03e5de3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>利用率也不是越大越好，当30%的时候就表示以太网已经处于重载的状态，表明网络很拥挤</p>
<h3 id="3-3-5-以太网的-MAC-层"><a href="#3-3-5-以太网的-MAC-层" class="headerlink" title="3.3.5 以太网的 MAC 层"></a>3.3.5 以太网的 MAC 层</h3><h4 id="硬件地址"><a href="#硬件地址" class="headerlink" title="硬件地址"></a>硬件地址</h4><p>硬件地址又称为物理地址，或 MAC 地址。<br><img src="https://img-blog.csdnimg.cn/1daae84b23384bd0b8901a66e1183429.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/00f35430c58d4d99a7f240720d4f04e2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>类型字段用来标志上一层使用的是什么协议，以便把收到的 MAC 帧的数据上交给上一层的这个协议。<br><font color='red'>以太网帧中用类型</font><br>数据字段的正式名称是 MAC 客户数据字段。<br>最小长度 64 字节（最短帧长64） - 18 字节的首部和尾部 = 数据字段的最小长度（46字节）</p>
<h4 id="无效的-MAC-帧"><a href="#无效的-MAC-帧" class="headerlink" title="无效的 MAC 帧"></a>无效的 MAC 帧</h4><p>数据字段的长度与长度字段的值不一致；<br>帧的长度不是整数个字节；<br>用收到的帧检验序列 FCS 查出有差错；<br> 数据字段的长度不在 46 ~ 1500 字节之间。<br> <font color='red'>有效的 MAC 帧长度为 64 ~ 1518 字节之间。</font><br>对于检查出的无效 MAC 帧就简单地<strong>丢弃</strong>。<br>以太网不负责重传丢弃的帧。 </p>
<h2 id="3-4-扩展的以太网"><a href="#3-4-扩展的以太网" class="headerlink" title="3.4 扩展的以太网"></a>3.4 扩展的以太网</h2><p><font color='red'>网桥工作在数据链路层</font></p>
<h3 id="3-4-1-在物理层扩展以太网"><a href="#3-4-1-在物理层扩展以太网" class="headerlink" title="3.4.1 在物理层扩展以太网"></a>3.4.1 在物理层扩展以太网</h3><h4 id="用集线器扩展以太网"><a href="#用集线器扩展以太网" class="headerlink" title="用集线器扩展以太网"></a>用集线器扩展以太网</h4><p><img src="https://img-blog.csdnimg.cn/8d61b8d144164a52be68e30665cd2d00.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>优点<br>使原来属于不同碰撞域（冲突域）的计算机能够跨碰撞域通信。<br>扩大了以太网覆盖的地理范围。<br>缺点<br>碰撞域增大了，总的吞吐量未提高。<br>如果使用不同的以太网技术（如数据率不同），那么就不能用集线器将它们互连起来。<br><font color='red'> 交换机属于数据链路层</font></p>
<h3 id="3-4-2-在数据链路层扩展以太网"><a href="#3-4-2-在数据链路层扩展以太网" class="headerlink" title="3.4.2 在数据链路层扩展以太网"></a>3.4.2 在数据链路层扩展以太网</h3><p>更为常用。早期使用网桥，现在使用以太网交换机。<br><img src="https://img-blog.csdnimg.cn/6bd61e3ba838431b92302aa7527119bc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="1-以太网交换机的特点"><a href="#1-以太网交换机的特点" class="headerlink" title="1.以太网交换机的特点"></a>1.以太网交换机的特点</h4><p><font color='red'> 交换机分割了冲突域，VLAN分割了广播域</font><br><font color='red'> 以太网交换机不能隔离广播域</font><br><img src="https://img-blog.csdnimg.cn/ee79e357b0864f35b5350d5d05bc506f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<ol>
<li><p>以太网交换机的每一个接口都是一个碰撞域<br><img src="https://img-blog.csdnimg.cn/b223581ec0dc4976865f40dcf78ead34.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</li>
<li><p>接口有存储器。</p>
</li>
<li><p>即插即用。</p>
</li>
<li><p>使用专用的交换结构芯片，用硬件转发，其转发速率要比使用软件转发的网桥快很多。</p>
<h5 id="以太网交换机的优点"><a href="#以太网交换机的优点" class="headerlink" title="以太网交换机的优点"></a>以太网交换机的优点</h5><p>优点： 每个用户独享带宽，增加了总容量</p>
</li>
</ol>
<p><font color='red'> 交换机对集线器的优势</font></p>
<ol>
<li>工作在全双工方式</li>
<li>独占传输媒体</li>
<li>使用了帧交换表<h5 id="以太网交换机的交换方式"><a href="#以太网交换机的交换方式" class="headerlink" title="以太网交换机的交换方式"></a>以太网交换机的交换方式</h5><img src="https://img-blog.csdnimg.cn/88f116712ba540809f6625e9f7c10bbb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 改进的直接交换方式</font><br><img src="https://img-blog.csdnimg.cn/59882edb6ed44e97aeed19d5081caf89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ol>
<h4 id="2-以太网交换机的自学习功能"><a href="#2-以太网交换机的自学习功能" class="headerlink" title="2.以太网交换机的自学习功能"></a>2.以太网交换机的自学习功能</h4><p>2 台以太网交换机互连<br><img src="https://img-blog.csdnimg.cn/f4a3ac80e0944877ae16db1326e05168.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h5 id="消除回路：使用生成树协议STP"><a href="#消除回路：使用生成树协议STP" class="headerlink" title="消除回路：使用生成树协议STP"></a>消除回路：使用生成树协议STP</h5><p>不改变网络的实际拓扑，但在逻辑上则切断某些链路，使得从一台主机到所有其他主机的路径是无环路的树状结构，从而消除了兜圈子现象</p>
<h3 id="3-4-3-虚拟局域网"><a href="#3-4-3-虚拟局域网" class="headerlink" title="3.4.3 虚拟局域网"></a>3.4.3 虚拟局域网</h3><h4 id="广播风暴"><a href="#广播风暴" class="headerlink" title="广播风暴"></a>广播风暴</h4><p>一个以太网是一个广播域。</p>
<p>广播域：指这样一部分网络，其中任何一台设备发出的广播通信都能被该部分网络中的所有其他设备所接收<br><img src="https://img-blog.csdnimg.cn/f943a04d7c8c4f48ab5fb249a9287935.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="安全问题"><a href="#安全问题" class="headerlink" title="安全问题"></a>安全问题</h4><p><img src="https://img-blog.csdnimg.cn/c92b80d0ce6944ed846d9f177f388fcf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="虚拟局域网VLAN"><a href="#虚拟局域网VLAN" class="headerlink" title="虚拟局域网VLAN"></a>虚拟局域网VLAN</h4><p>是利用以太网交换机实现的<br>虚拟局域网 VLAN 是由一些局域网网段构成的与物理位置无关的逻辑组，而这些网段具有某些共同的需求。每一个 VLAN 的帧都有一个明确的标识符，指明发送这个帧的计算机是属于哪一个 VLAN。<br>虚拟局域网其实只是局域网给用户提供的一种服务，并不是一种新型局域网。<br>每个虚拟局域网是一个广播域。<br><img src="https://img-blog.csdnimg.cn/15ce88c7d8da4bcc98b9e90c3cc4a8a1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>即使在同一交换机下，也不会收到。是看在不在一个广播域里的<br><font color='red'> 1518-&gt;1522</font><br>使用vlan对以太网数据帧打上802.1Q的标签后，帧的最大长度由原来的1518字节变更为1522字节。<br><img src="https://img-blog.csdnimg.cn/131832f81d424ef59da98aec16d1e468.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="3-5-高速以太网"><a href="#3-5-高速以太网" class="headerlink" title="3.5 高速以太网"></a>3.5 高速以太网</h2><h3 id="3-5-1-100BASE-T-以太网"><a href="#3-5-1-100BASE-T-以太网" class="headerlink" title="3.5.1 100BASE-T 以太网"></a>3.5.1 100BASE-T 以太网</h3><p>100 带宽 Base指基带信号 T指传输介质是双脚线</p>
<h3 id="3-5-2-吉比特以太网"><a href="#3-5-2-吉比特以太网" class="headerlink" title="3.5.2 吉比特以太网"></a>3.5.2 吉比特以太网</h3><p>允许在 1 Gbit/s 下以全双工和半双工两种方式工作。<br>吉比特以太网增加了两个功能：</p>
<ul>
<li><p>载波延伸<br><font color='red'> 吉比特以太网的争用期为512字节</font><br><img src="https://img-blog.csdnimg.cn/d5abb62fb16d4d29a79ecc599e25eb11.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</li>
<li><p>分组突发</p>
<h3 id="3-5-3-10-吉比特以太网-10GE-和更快的以太网"><a href="#3-5-3-10-吉比特以太网-10GE-和更快的以太网" class="headerlink" title="3.5.3 10 吉比特以太网(10GE)和更快的以太网"></a>3.5.3 10 吉比特以太网(10GE)和更快的以太网</h3><h3 id="3-5-4-使用以太网进行宽带接入"><a href="#3-5-4-使用以太网进行宽带接入" class="headerlink" title="3.5.4 使用以太网进行宽带接入"></a>3.5.4 使用以太网进行宽带接入</h3></li>
</ul>
<h1 id="第-4-章-网络层"><a href="#第-4-章-网络层" class="headerlink" title="第 4 章 网络层"></a>第 4 章 网络层</h1><p><font color='red'> 在ip层中，信息传输的基本单元是数据分组</font></p>
<h2 id="4-1网络层的几个重要概念"><a href="#4-1网络层的几个重要概念" class="headerlink" title="4.1网络层的几个重要概念"></a>4.1网络层的几个重要概念</h2><h3 id="4-1-1网络层提供的两种服务"><a href="#4-1-1网络层提供的两种服务" class="headerlink" title="4.1.1网络层提供的两种服务"></a>4.1.1网络层提供的两种服务</h3><p>2 种观点：<br>面向连接的可靠交付。<br>无连接的、尽最大努力交付的数据报服务，不提供服务质量的承诺。<br><img src="https://img-blog.csdnimg.cn/d495c396e977450995cf237aded290e8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 虚电路</font><br>虚电路有连接建立、数据传输和连接拆除3个阶段<br><img src="https://img-blog.csdnimg.cn/30d414e5e2c44f659d810a2312f74475.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>电路交换的电话连接是真的建立了一条物理连接。</p>
<p><img src="https://img-blog.csdnimg.cn/92fb4d9879924b489c813b76d0399c97.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/4591da122d62443cae8a37e1650eef3b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/661a1c24fbca4740878c2a6d92cedb4f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/aa35401feda14a1a8091f09044315db1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> IPv6</font><br>IPv6的基本首部<br><img src="https://img-blog.csdnimg.cn/896fff4e648d42aaba3449237496d941.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>IPv6的基本地址类型<br>  IPv6数据报的目的地址可以分类：单播、多播、任播<br>  (1) 单播：即点对点通信。可以作源地址也可以作为目的地址。<br>  (2) 多播：一对多通信，数据报发送到一组的计算机中的多个。IPv6没有广播的术语，而是将广播看作多播的一个特例。只能作为目的地址。<br>  (3) 任播：一对多中的一个，数据报终点是一组计算机，但是数据报只交付给其中一个，通常是距离最近的一个。可以作为目的地址。</p>
<h3 id="4-1-2网络层的两个层面"><a href="#4-1-2网络层的两个层面" class="headerlink" title="4.1.2网络层的两个层面"></a>4.1.2网络层的两个层面</h3><p>在路由器之间传送的信息有以下 2 大类：</p>
<ol>
<li>数据。</li>
<li>路由信息（为数据传送服务）。<br><img src="https://img-blog.csdnimg.cn/df47554d33144a5997d4fa635faac157.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/6a993299adc9461da1f5ce2033df3ec9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ol>
<h2 id="4-2-网际协议-IP"><a href="#4-2-网际协议-IP" class="headerlink" title="4.2 网际协议 IP"></a>4.2 网际协议 IP</h2><p>互联网中所有端系统和路由器都必须实现IP协议<br><img src="https://img-blog.csdnimg.cn/e419da176a914fff8ddea79aea927d43.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="4-2-1-虚拟互连网络"><a href="#4-2-1-虚拟互连网络" class="headerlink" title="4.2.1 虚拟互连网络"></a>4.2.1 虚拟互连网络</h3><p><img src="https://img-blog.csdnimg.cn/8024f7b22ffb4b37aee98b8eb82c8ffd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>使用转发器或网桥不称为网络互连<br><img src="https://img-blog.csdnimg.cn/62838e5cd2c94adfad4483e65a5590b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="4-2-2-分类的-IP-地址"><a href="#4-2-2-分类的-IP-地址" class="headerlink" title="4.2.2 分类的 IP 地址"></a>4.2.2 分类的 IP 地址</h3><h4 id="1-IP-地址及其表示方法"><a href="#1-IP-地址及其表示方法" class="headerlink" title="1. IP 地址及其表示方法"></a>1. IP 地址及其表示方法</h4><p>点分十进制<br><img src="https://img-blog.csdnimg.cn/0c103c965494471c92b3caea9c7456b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>每一位都应该在0-255之间<br><img src="https://img-blog.csdnimg.cn/143713e5610f449997393392726e78ef.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="2-分类的-IP-地址"><a href="#2-分类的-IP-地址" class="headerlink" title="2. 分类的 IP 地址"></a>2. 分类的 IP 地址</h4><p><img src="https://img-blog.csdnimg.cn/f4ec3683a2244a3a83bb2404c0f3e197.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> A类B类C类地址</font><br><img src="https://img-blog.csdnimg.cn/c19888fd86fb45cd8184f284fc5cd4a5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> IP地址使用</font><br><img src="https://img-blog.csdnimg.cn/33993421cb064f32a3e7bd690a337b07.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> IP地址是网络层地址，MAC地址是链路层地址。</font></p>
<h4 id="3-无分类编址-CIDR"><a href="#3-无分类编址-CIDR" class="headerlink" title="3. 无分类编址 CIDR"></a>3. 无分类编址 CIDR</h4><p>CIDR:无分类域间路由选择</p>
<ol>
<li><p>网络前缀<br><img src="https://img-blog.csdnimg.cn/2c163e5c2d4d41348ef9d447501d5e23.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</li>
<li><p>地址块<br><img src="https://img-blog.csdnimg.cn/c467c1e88daa4ef0a91eef80037031f3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 地址块</font><br><img src="https://img-blog.csdnimg.cn/d078a955daa34aef8b1c7eb4e911fe89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/f7362c5c6299454ab64bced3bdba6bcf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 是不是属于同一子网</font><br>属于同一个子网地址意思就是他们的网络前缀要一样<br><img src="https://img-blog.csdnimg.cn/a28aa9945f2243868d599e66804978e2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/3d29e0a959d649e3b3f654fdb24224e3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<ol start="3">
<li>地址掩码<br>又称为子网掩码，32位，目的：让机器从ip地址迅速算出网络地址</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/ca99532d84494a98979c6f514cacd6fe.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/f6187e2b80024abeb4b23c64187152bf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>AND运算：有0则0<br>网络地址 = (二进制的 IP 地址) AND (地址掩码)<br><img src="https://img-blog.csdnimg.cn/f3d369e18fd041c6b3c27319751d4b71.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 广播地址</font><br><img src="https://img-blog.csdnimg.cn/b499dd393eb843be8938b4d6a3957ee4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><font color='red'> 划分子网</font></p>
<p><img src="https://img-blog.csdnimg.cn/bca36db667fd4befb5d7012817957fad.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 可变长度子网掩码子网划分</font><br><img src="https://img-blog.csdnimg.cn/ebe434c042cc48a5b4ce4f26c58a5d94.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 构造超网</font><br><img src="https://img-blog.csdnimg.cn/f3981bfe71c7446084551be44845b8e9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>在构造超网时，有三点需要注意：<br>（1）：地址块必须是连续的<br>（2）：待合并的地址块的数量必须是2的n次幂&lt;排除b&gt;<br>（3）：被合并的c类网络的第一个地址块的第三个字节的值必须是待合并地址快的整数倍&lt;排除ac&gt;</p>
<p><img src="https://img-blog.csdnimg.cn/7541a617b91844bead2296bfccd38004.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/50a6d48395ea4144a5168e3a9b52eb91.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 地址块聚合</font></p>
<h4 id="4-IP-地址的特点"><a href="#4-IP-地址的特点" class="headerlink" title="4. IP 地址的特点"></a>4. IP 地址的特点</h4><ol>
<li>每个 IP 地址都由网络前缀和主机号两部分组成。<br>IP 地址是一种分等级的地址结构。</li>
</ol>
<ul>
<li>方便了 IP 地址的分配和管理。</li>
<li>实现路由聚合，减小了转发表所占的存储空间，以及查找转发表的时间。</li>
</ul>
<ol start="2">
<li>IP 地址是标志一台主机（或路由器）和一条链路的接口。</li>
</ol>
<ul>
<li><p>当一台主机同时连接到两个网络上时，该主机就必须同时具有两个相应的 IP 地<img src="https://img-blog.csdnimg.cn/5d113c7eab5844f58da9de401512a3a3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="址，其网络号必须是不同的。这种主机称为多归属主机 (multihomed host)。"></p>
</li>
<li><p>一个路由器至少应当连接到两个网络，因此一个路由器至少应当有两个不同的 IP 地址。</p>
</li>
</ul>
<ol start="3">
<li>转发器或交换机连接起来的若干个局域网仍为一个网络</li>
</ol>
<ul>
<li>按照互联网的观点，一个网络（或子网）是指具有<font  color='red'>相同网络前缀</font>的主机的集合。</li>
<li>转发器或交换机连接起来的若干个局域网都具有同样的网络号，它们仍为一个网络。</li>
<li><font color='red'>具有不同网络号的局域网必须使用路由器进行互连。</font></li>
</ul>
<ol start="4">
<li>在 IP 地址中，所有分配到网络前缀的网络都是平等的。<h3 id="4-2-3-IP-地址与硬件地址"><a href="#4-2-3-IP-地址与硬件地址" class="headerlink" title="4.2.3 IP 地址与硬件地址"></a>4.2.3 IP 地址与硬件地址</h3><img src="https://img-blog.csdnimg.cn/eef7fb801d174777ad2913e03f06e507.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/09b3745f3b414c2eae01b6afac623d0d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>在 IP 层抽象的互联网上，只能看到 IP 数据报。<br>在局域网的链路层，只能看见 MAC 帧。<br><font color='red'> 地址解析协议 ARP </font><br>ARP的作用是：从ip地址解析出mac地址<br><img src="https://img-blog.csdnimg.cn/f55d1d12272443ae84968bfebf1754cf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> RARP</font><br>使用硬件(MAC）地址去查找相应的IP地址的协议是RARP。<h3 id="4-2-5-IP-数据报的格式"><a href="#4-2-5-IP-数据报的格式" class="headerlink" title="4.2.5 IP 数据报的格式"></a>4.2.5 IP 数据报的格式</h3></li>
<li> IP 数据报首部的固定部分中的各字段<br>首部的前一部分是固定长度，共 20 字节（最少是20个字节），是所有 IP 数据报必须具有的。<br><img src="https://img-blog.csdnimg.cn/f130ee07a753454793797bd9588cda6d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ol>
<ul>
<li>版本——占 4 位，指 IP 协议的版本。<br>目前的 IP 协议版本号为 4 (即 IPv4)。</li>
<li>首部长度——占 4 位，可表示的最大数值<br>是 15 个单位(一个单位为 4 字节)，<br>因此 IP 的首部长度的最大值是 60 字节。</li>
<li>区分服务——占 8 位，用来获得更好的服务。<br>只有在使用区分服务时，这个字段才起作用。<br>在一般的情况下都不使用这个字段 </li>
<li>总长度——占 16 位，指首部和数据之和的长度，<br>单位为字节，因此数据报的最大长度为 65535 字节。</li>
</ul>
<p><strong>总长度必须不超过最大传送单元 MTU。MTU包括首部和数据部分</strong> </p>
<ul>
<li>标识——占 16 位，<br>它是一个计数器，用来产生 IP 数据报的标识。 </li>
<li>标志——占 3 位，目前只有前两位有意义。标志字段的最低位是 MF 。MF=1 表示后面还有分片，MF=0 表示最后一个分片。<br>标志字段中间的一位是 DF 只有当 DF=0 时才允许分片。 </li>
<li>片偏移——占 13 位，指出：较长的分组在分片后<br>某片在原分组中的相对位置。</li>
</ul>
<p><strong>片偏移以 8 个字节为偏移单位。</strong><br><font color='red'> 生存时间指示数据报在网络中可通过的路由器数的最大值。</font></p>
<ul>
<li>生存时间——占 8 位，记为 TTL (Time To Live)，<br>指示数据报在网络中可通过的路由器数的最大值。<br><font color='red'> IP数据报分片</font><br>ip数据报分片通常发生在中途经过的路由器<br><img src="https://img-blog.csdnimg.cn/4416511abe9947e48ea5a49b11eb623f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/0a9185f0e54a4d98871a3d7133b8332d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/4b3b937d37bc4a5ab7cd665bfc2db104.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/e8cdd7e8eabb4b45a90c76857dacea7b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/63b79293cb9745be992d70ce5ac1b47f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/5e3ad12e1ec64385b99e70e4f0059be3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="4-3-IP-层转发分组的过程"><a href="#4-3-IP-层转发分组的过程" class="headerlink" title="4.3 IP 层转发分组的过程"></a>4.3 IP 层转发分组的过程</h2><h3 id="4-3-1-基于终点的转发"><a href="#4-3-1-基于终点的转发" class="headerlink" title="4.3.1  基于终点的转发"></a>4.3.1  基于终点的转发</h3><p><img src="https://img-blog.csdnimg.cn/f90647c1e9bd4155a5eacd31b3b2fddc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>为了压缩转发表的大小，<br>转发表中最主要的路由是（目的网络地址，下一跳地址） ，<br>而不是（目的地址，下一跳地址）。<br>查找转发表的过程就是逐行寻找前缀匹配。</p>
<h3 id="4-3-2-最长前缀匹配"><a href="#4-3-2-最长前缀匹配" class="headerlink" title="4.3.2  最长前缀匹配"></a>4.3.2  最长前缀匹配</h3><h3 id="4-3-3-使用二叉线索查找转发表"><a href="#4-3-3-使用二叉线索查找转发表" class="headerlink" title="4.3.3 使用二叉线索查找转发表"></a>4.3.3 使用二叉线索查找转发表</h3><h2 id="4-4-网际控制报文协议-ICMP"><a href="#4-4-网际控制报文协议-ICMP" class="headerlink" title="4.4 网际控制报文协议 ICMP"></a>4.4 网际控制报文协议 ICMP</h2><p>允许主机或路由器报告差错情况和提供有关异常情况的报告。<br>#<font color='red'>  ICMP 报文的种类</font><br><img src="https://img-blog.csdnimg.cn/bbeab6b9ff654f8e9e91fd207e94fdc3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="不应发送-ICMP-差错报告报文的几种情况"><a href="#不应发送-ICMP-差错报告报文的几种情况" class="headerlink" title="不应发送 ICMP 差错报告报文的几种情况"></a>不应发送 ICMP 差错报告报文的几种情况</h4><p>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文。<br>对第一个分片的数据报片的所有后续数据报片都不发送 ICMP 差错报告报文。<br>对具有多播地址的数据报都不发送 ICMP 差错报告报文。<br>对具有特殊地址（如127.0.0.0 或 0.0.0.0）的数据报不发送 ICMP 差错报告报文。</p>
<h3 id="4-4-2-ICMP-的应用举例"><a href="#4-4-2-ICMP-的应用举例" class="headerlink" title="4.4.2 ICMP 的应用举例"></a>4.4.2 ICMP 的应用举例</h3><p><font color='red'> tracert采用了哪些部分来实现</font><br><img src="https://img-blog.csdnimg.cn/d132c7d043134e128c0f8f82b15dcbaf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/d0f51b6bc8af43b883f0941eb1cbda62.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 互联网的路由选择协议</font><br><img src="https://img-blog.csdnimg.cn/e356965ebc4f4a41a6aa8b98e7b854fd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/3b2bf033556e472d8e724f24b771e048.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/7f7f8121c12d4ef78a8c1f5773380728.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="4-6-1-有关路由选择协议的几个基本概念"><a href="#4-6-1-有关路由选择协议的几个基本概念" class="headerlink" title="4.6.1 有关路由选择协议的几个基本概念"></a>4.6.1 有关路由选择协议的几个基本概念</h3><h3 id="4-6-3-内部网关协议-IGP"><a href="#4-6-3-内部网关协议-IGP" class="headerlink" title="4.6.3 内部网关协议 IGP"></a>4.6.3 内部网关协议 IGP</h3><p>在一个自治系统内部使用的路由选择协议<br>常用：RIP，OSPF<br>链路状态</p>
<h4 id="RIP好快坏慢"><a href="#RIP好快坏慢" class="headerlink" title=" RIP好快坏慢"></a><font color='red'> RIP好快坏慢</font></h4><p>距离向量</p>
<p>路由信息协议 RIP (Routing Information Protocol) 是一种分布式的、基于距离向量的路由选择协议。<br>互联网的标准协议。<br>最大优点：简单。<br>要求网络中的每个路由器都要维护从它自己到其他每一个目的网络的距离记录。 </p>
<p>优点：<br>实现简单，开销较小。<br>缺点：<br>网络规模有限。最大距离为 15（16 表示不可达）。<br>交换的路由信息为完整路由表，开销较大。<br>坏消息传播得慢，收敛时间过长。</p>
<p><img src="https://img-blog.csdnimg.cn/bb15bc1729d84b37b0cce4b38daf46de.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/f199a7455f64425dbc7a644c5b7d84d0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h4><p>开放最短路径优先 OSPF (Open Shortest Path First)是为克服 RIP 的缺点在 1989 年开发出来的。<br>原理很简单，但实现很复杂。<br>使用了 Dijkstra 提出的最短路径算法 SPF。<br>采用分布式的链路状态协议 (link state protocol)。<br>现在使用 OSPFv2。</p>
<p>三个主要特点：<br><strong>采用洪泛法</strong> (flooding)，向本自治系统中所有路由器发送信息。<br>发送的信息是与本路由器相邻的所有路由器的链路状态，但这只是路由器所知道的部分信息。<br>链路状态：说明本路由器都和哪些路由器相邻，以及该链路的度量 (metric)。<br>当链路状态发生变化或每隔一段时间（如30分钟），路由器才用洪泛法向所有路由器发送此信息。</p>
<h3 id="4-6-4-外部网关协议-BGP"><a href="#4-6-4-外部网关协议-BGP" class="headerlink" title="4.6.4 外部网关协议 BGP"></a>4.6.4 外部网关协议 BGP</h3><p><font color='red'> BGP是基于路径向量的路由协议。</font><br>在不同自治系统之间进行路由选择时使用的协议<br>使用最多：BGP-4<br><strong>BGP 是不同自治系统的路由器之间交换路由信息的协议。</strong><br>可以将 BGP-4 简写为 BGP。 </p>
<h3 id="4-6-5-路由器的构成"><a href="#4-6-5-路由器的构成" class="headerlink" title="4.6.5 路由器的构成"></a>4.6.5 路由器的构成</h3><p><font color='red'> 路由器转发</font><br><img src="https://img-blog.csdnimg.cn/8ec62c896e834b68aa5236ec70436b4e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/30f4150741544ae79e9aa8777a3fa6b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/a2f2adc05cb9489a9654f64f613173ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/db2bff1b66de4f3181bd581b6a0302f4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> 路由表更新</font><br>路由器到直接连接的网络的距离 = 1。<br>路由器到非直接连接的网络的距离 = 所经过的路由器数 + 1。<br>RIP 协议中的“距离”也称为“跳数”(hop count)，每经过一个路由器，跳数就加 1。<br><img src="https://img-blog.csdnimg.cn/1926b7ddbc7b4dfca11ba2cadbb273a6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="4-8-网络地址转换-NAT"><a href="#4-8-网络地址转换-NAT" class="headerlink" title="4.8 网络地址转换 NAT"></a>4.8 网络地址转换 NAT</h2><h3 id="4-8-2-网络地址转换-NAT"><a href="#4-8-2-网络地址转换-NAT" class="headerlink" title="4.8.2 网络地址转换 NAT"></a>4.8.2 网络地址转换 NAT</h3><h1 id="第-5-章-运输层"><a href="#第-5-章-运输层" class="headerlink" title="第 5 章 运输层"></a>第 5 章 运输层</h1><h2 id="5-1-运输层协议概述"><a href="#5-1-运输层协议概述" class="headerlink" title="5.1 运输层协议概述"></a>5.1 运输层协议概述</h2><h3 id="5-1-1-进程之间的通信"><a href="#5-1-1-进程之间的通信" class="headerlink" title="5.1.1 进程之间的通信"></a>5.1.1 进程之间的通信</h3><p><img src="https://img-blog.csdnimg.cn/cafed17cefe3479f84a1cae138272e0e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-1-2-运输层的两个主要协议"><a href="#5-1-2-运输层的两个主要协议" class="headerlink" title="5.1.2 运输层的两个主要协议"></a>5.1.2 运输层的两个主要协议</h3><p>TCP 适用于可靠性较差的网络,UDP适用于可靠性较高的网络</p>
<p>两个对等运输实体在通信时传送的数据单位叫作运输协议数据单元 TPDU。<br>TCP 传送的数据单位协议是 TCP 报文<strong>段</strong>。<br>UDP 传送的数据单位协议是 UDP 报文或用户数据报。<br><img src="https://img-blog.csdnimg.cn/6c21d2e3febe4beb9237f27cc47b5bd9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-1-3-运输层的端口"><a href="#5-1-3-运输层的端口" class="headerlink" title="5.1.3 运输层的端口"></a>5.1.3 运输层的端口</h3><p><img src="https://img-blog.csdnimg.cn/7070eff140aa4dc1891468ef6ea0aa4c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/7996c9126f554ff7849be28aada2c48a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="5-2-用户数据报协议-UDP"><a href="#5-2-用户数据报协议-UDP" class="headerlink" title="5.2 用户数据报协议 UDP"></a>5.2 用户数据报协议 UDP</h2><p>不可靠，无连接，时延小，适用于小文件</p>
<h3 id="5-2-1-UDP-概述"><a href="#5-2-1-UDP-概述" class="headerlink" title="5.2.1 UDP 概述"></a>5.2.1 UDP 概述</h3><p>复用和分用<br>差错检测<br><img src="https://img-blog.csdnimg.cn/85d68a079e9b4913a48a36ae335249d5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-2-2-UDP-的首部格式"><a href="#5-2-2-UDP-的首部格式" class="headerlink" title="5.2.2 UDP 的首部格式"></a>5.2.2 UDP 的首部格式</h3><p><img src="https://img-blog.csdnimg.cn/41d79e6d656943e08d538ea064dd7e89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="5-3-传输控制协议-TCP-概述"><a href="#5-3-传输控制协议-TCP-概述" class="headerlink" title="5.3 传输控制协议 TCP 概述"></a>5.3 传输控制协议 TCP 概述</h2><p><font color='red'> TCP的主要功能是提供可靠传输</font><br>可靠，面向连接(虚连接)，时延大，适用于大文件<br><font color='red'> TCP 最主要的特点</font><br><img src="https://img-blog.csdnimg.cn/8e0cccca5ba347b0891f0e473ec5e64b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/ad7cdd2301a7468c921bb106afc0d241.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-3-2-TCP-的连接"><a href="#5-3-2-TCP-的连接" class="headerlink" title="5.3.2 TCP 的连接"></a>5.3.2 TCP 的连接</h3><p>TCP 把连接作为最基本的抽象。<br><img src="https://img-blog.csdnimg.cn/5a86a1344d6d4fbbb1e26f139cb2668f.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/babcd2fe969b4b2798e566c0ae86a7ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>TCP 连接就是由协议软件所提供的一种抽象。<br>TCP 连接的端点是抽象的套接字，即（IP 地址：端口号）。<br>同一个 IP 地址可以有多个不同的 TCP 连接。<br>同一个端口号也可以出现在多个不同的 TCP 连接中。</p>
<p><font color='red'> 套接字的表示方式</font><br><img src="https://img-blog.csdnimg.cn/9500c14fdd5f4ddfa7908badd35e6f98.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="5-4-可靠传输的工作原理"><a href="#5-4-可靠传输的工作原理" class="headerlink" title="5.4 可靠传输的工作原理"></a>5.4 可靠传输的工作原理</h2><p><img src="https://img-blog.csdnimg.cn/18e6b58b343c45f7b5ddaeb1d03d1fc0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-4-1-停止等待协议"><a href="#5-4-1-停止等待协议" class="headerlink" title="5.4.1 停止等待协议"></a>5.4.1 停止等待协议</h3><p>每发送完一个分组就停止发送，等待对方的确认。在收到确认后再发送下一个分组。<br>全双工通信的双方既是发送方也是接收方。<br>假设仅考虑 A 发送数据，而 B 接收数据并发送确认。因此 A 叫做发送方，而 B 叫做接收方。</p>
<h4 id="1-无差错情况"><a href="#1-无差错情况" class="headerlink" title="1. 无差错情况"></a>1. 无差错情况</h4><p><img src="https://img-blog.csdnimg.cn/01b1fd4b06d4465badb47ba580f7ba35.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h4 id="2-出现差错"><a href="#2-出现差错" class="headerlink" title="2. 出现差错"></a>2. 出现差错</h4><p><img src="https://img-blog.csdnimg.cn/7d45f217fd4046b09d3951a77cb6ec4f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>问题：A 如何知道 B 是否正确收到了 M1 呢？<br>解决方法：超时重传<br>A 为每一个已发送的分组设置一个超时计时器。<br>A 只要在超时计时器到期之前收到了相应的确认，就撤销该超时计时器，继续发送下一个分组 M2 。<br>若 A 在超时计时器规定时间内没有收到 B 的确认，就认为分组错误或丢失，就重发该分组。</p>
<h4 id="3-确认丢失和确认迟到"><a href="#3-确认丢失和确认迟到" class="headerlink" title="3. 确认丢失和确认迟到"></a>3. 确认丢失和确认迟到</h4><ul>
<li>确认丢失<br>若 B 所发送的对 M1 的确认丢失了，那么 A 在设定的超时重传时间内将不会收到确认，因此 A 在超时计时器到期后重传 M1。<br>假定 B 正确收到了 A 重传的分组 M1。这时 B 应采取两个行动：<br>(1) 丢弃这个重复的分组 M1，不向上层交付。<br>(2) 向 A 发送确认。</li>
<li>确认迟到<br>B 对分组 M1 的确认迟到了，因此 A 在超时计时器到期后重传 M1。<br>B 会收到重复的 M1，丢弃重复的 M1，并重传确认分组。<br>A 会收到重复的确认。对重复的确认的处理：丢弃。</li>
</ul>
<h4 id="4-信道利用率"><a href="#4-信道利用率" class="headerlink" title="4.信道利用率"></a>4.信道利用率</h4><p><img src="https://img-blog.csdnimg.cn/6a6d41291a174f73bdf1dabf1354cb84.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/fb7149cce73e4b9eaa5b231374f2a909.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/6cb0f7be5fc84f099be64ba9d9066701.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-4-2-连续-ARQ"><a href="#5-4-2-连续-ARQ" class="headerlink" title="5.4.2 连续 ARQ"></a>5.4.2 连续 ARQ</h3><p><img src="https://img-blog.csdnimg.cn/e2d1574831f04126aa3de0ecb7527367.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color='red'> TCP 报文段的首部格式</font><br><img src="https://img-blog.csdnimg.cn/f0de8de511a749c3a9ac93610a9f3f2d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<ul>
<li>源端口和目的端口：各占 2 字节。端口是运输层与应用层的服务接口。 运输层的复用和分用功能通过端口实现。 </li>
<li>序号：占 4 字节。TCP 连接中传送的数据流中的每一个字节都有一个序号。<font color='red'><strong>序号字段的值则指的是本报文段所发送的数据的第一个字节的序号。</strong> </font></li>
<li>确认号：占 4 字节，是期望收到对方的下一个报文段的数据的第一个字节的序号。<br>记住：若确认号 = N，则表明：到序号 N – 1 为止的所有数据都已正确收到。</li>
<li>数据偏移（即首部长度）：占 4 位，指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。单位是 32 位字（以 4 字节为计算单位）。 </li>
<li>保留：占 6 位，保留为今后使用，但目前应置为 0。 </li>
<li>紧急 URG：控制位。当 URG = 1 时，表明紧急指针字段有效，告诉系统此报文段中有紧急数据，应尽快传送 (相当于高优先级的数据)。 </li>
<li>确认 ACK：控制位。只有当 ACK =1 时，确认号字段才有效。当 ACK =0 时，确认号无效。 </li>
<li>推送 PSH (PuSH) ：控制位。接收 TCP 收到 PSH = 1 的报文段后，就尽快（即“推送”向前）交付接收应用进程，而不再等到整个缓存都填满后再交付。 </li>
<li> 复位 RST (ReSeT) ：控制位。当 RST=1 时，表明 TCP 连接中出现严重差错（如主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。 </li>
<li>同步 SYN (SYNchronization) ：控制位。<br>同步 SYN = 1 表示这是一个连接请求或连接接受报文。<br>当 SYN = 1，ACK = 0 时，表明这是一个连接请求报文段。<h3 id="MSS"><a href="#MSS" class="headerlink" title="MSS"></a>MSS</h3>是 TCP 报文段中的数据字段的最大长度。<br><font color='red'> 互联网中所有的主机（路由器），都能够接受长度不超过576字节的数据报，其原因是TCP协议中，MSS的默认值是536字节</font><br><img src="https://img-blog.csdnimg.cn/76ec0fb99f44456da55fb53b250f86f8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<p><font color='red'> SYN=1,ACK=1,连接接受</font><br>当 SYN = 1，ACK = 1 时，表明这是一个连接接受报文段。</p>
<ul>
<li>终止 FIN (FINish) ：控制位。用来释放一个连接。<br>FIN=1 表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。 </li>
<li>窗口：占 2 字节。<br>窗口值告诉对方：从本报文段首部中的确认号算起，接收方目前允许对方发送的数据量（以字节为单位）。</li>
</ul>
<p><strong>记住：窗口字段明确指出了现在允许对方发送的数据量。窗口值经常在<font color='red'>动态变化。</strong></p>
<ul>
<li>检验和：占 2 字节。检验和字段检验的范围包括首部和数据这两部分。<br>在计算检验和时，要在 TCP 报文段的前面加上 12 字节的伪首部。</li>
<li>紧急指针：占 2 字节。在 URG = 1时，指出本报文段中的紧急数据的字节数（紧急数据结束后就是普通数据），指出了紧急数据的末尾在报文段中的位置。 <h3 id="课堂练习"><a href="#课堂练习" class="headerlink" title="课堂练习"></a>课堂练习</h3><img src="https://img-blog.csdnimg.cn/06b08363f5de46398d9d04bbb9ff7a0e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ul>
<h2 id="5-6-TCP-可靠传输的实现"><a href="#5-6-TCP-可靠传输的实现" class="headerlink" title="5.6 TCP 可靠传输的实现"></a>5.6 TCP 可靠传输的实现</h2><h3 id="5-6-1-以字节为单位的滑动窗口"><a href="#5-6-1-以字节为单位的滑动窗口" class="headerlink" title="5.6.1 以字节为单位的滑动窗口"></a>5.6.1 以字节为单位的滑动窗口</h3><p><img src="https://img-blog.csdnimg.cn/7973c16659a34b1ab990b5bef4c1f160.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-6-2-超时重传时间的选择"><a href="#5-6-2-超时重传时间的选择" class="headerlink" title="5.6.2 超时重传时间的选择"></a>5.6.2 超时重传时间的选择</h3><h3 id="5-6-3-选择确认-SACK"><a href="#5-6-3-选择确认-SACK" class="headerlink" title="5.6.3 选择确认 SACK"></a>5.6.3 选择确认 SACK</h3><h2 id="5-7-TCP-的流量控制"><a href="#5-7-TCP-的流量控制" class="headerlink" title="5.7 TCP 的流量控制"></a>5.7 TCP 的流量控制</h2><p>流量控制 (flow control) ：让发送方的发送速率不要太快，使接收方来得及接收。<br>利用滑动窗口机制可以很方便地在 TCP 连接上实现对发送方的流量控制。 </p>
<h3 id="5-7-1-利用滑动窗口实现流量控制"><a href="#5-7-1-利用滑动窗口实现流量控制" class="headerlink" title="5.7.1 利用滑动窗口实现流量控制"></a>5.7.1 利用滑动窗口实现流量控制</h3><p><img src="https://img-blog.csdnimg.cn/661dbc56c808429c89a95625cd224e5d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-7-2-TCP-的传输效率"><a href="#5-7-2-TCP-的传输效率" class="headerlink" title="5.7.2 TCP 的传输效率"></a>5.7.2 TCP 的传输效率</h3><p><font color='red'> 糊涂窗口综合症</font><br><img src="https://img-blog.csdnimg.cn/90297bde3dc54415aeef8c4e5573370c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>发送方:<br><img src="https://img-blog.csdnimg.cn/3a5d41e5c8ed44c5b396e2f5d3135491.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>接收方:<br><img src="https://img-blog.csdnimg.cn/20e52781135941d0a4aaa891abef6c60.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>解决方法：让接收方等待一段时间，使得或者接收缓存已有足够空间容纳一个最长的报文段，或者等到接收缓存已有一半空闲的空间。只要出现这两种情况之一，接收方就发出确认报文，并向发送方通知当前的窗口大小。</p>
<h2 id="5-8-TCP-的拥塞控制"><a href="#5-8-TCP-的拥塞控制" class="headerlink" title="5.8 TCP 的拥塞控制"></a>5.8 TCP 的拥塞控制</h2><p>对资源需求的总和&gt;该资源所能提供的可用部分<br>产生原因：<br><img src="https://img-blog.csdnimg.cn/e2ac2989d5994394a3c2e0ac1e40c398.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>增加资源不能解决拥塞！<br>增大缓存，但未提高输出链路的容量和处理机的速度，排队等待时间将会大大增加，引起大量超时重传，解决不了网络拥塞；</p>
<p><font color='red'> 判断网络拥塞的依据是出现了超时</font></p>
<h3 id="5-8-1-拥塞控制的一般原理"><a href="#5-8-1-拥塞控制的一般原理" class="headerlink" title="5.8.1 拥塞控制的一般原理"></a>5.8.1 拥塞控制的一般原理</h3><p>拥塞控制的前提：网络能够承受现有的网络负荷。<br>实践证明，拥塞控制是很难设计的，因为它是一个动态问题。<br>分组的丢失是网络发生拥塞的征兆，而不是原因。<br>在许多情况下，甚至正是拥塞控制本身成为引起网络性能恶化、甚至发生死锁的原因。<br><font color='red'> TCP 的拥塞控制方法</font><br><img src="https://img-blog.csdnimg.cn/86f9091c1bf446b7a208e4650e0a7f2c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/7a098c5426a94780b9cea8ecbcd4fa2a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>开始执行慢开始算法时，拥塞窗口 cwnd=1，发送第一个报文段。<br>发送方每收到一个对新报文段的确认 ACK，就把拥塞窗口值加 1，因此拥塞窗口 cwnd 随着往返时延 RTT 按指数规律增长。<br>当拥塞窗口 cwnd 增长到慢开始门限值 ssthresh 时，改为执行拥塞避免算法，拥塞窗口按线性规律增长。<br>当拥塞窗口 cwnd = 24 时，网络出现了超时，发送方判断为网络拥塞。调整门限值 ssthresh = cwnd / 2 = 12，同时设置拥塞窗口 cwnd = 1，进入慢开始阶段。<br>按照慢开始算法，发送方每收到一个对新报文段的确认 ACK，就把拥塞窗口值加 1。当拥塞窗口 cwnd = ssthresh = 12 时，改为执行拥塞避免算法，拥塞窗口按线性规律增大。<br>当拥塞窗口 cwnd = 16 时，发送方连续收到 3 个对同一个报文段的重复确认（记为 3-ACK）。发送方改为执行快重传和快恢复算法。</p>
<h4 id="快重传-FR-算法"><a href="#快重传-FR-算法" class="headerlink" title="快重传 FR 算法"></a>快重传 FR 算法</h4><p>目的：让发送方尽早知道发生了个别报文段的丢失。<br>发送方只要连续收到三个重复的确认，就立即进行重传（即“快重传”），这样就不会出现超时。<br>使用快重传可以使整个网络的吞吐量提高约 20%。<br>快重传算法要求接收方立即发送确认，即使收到了失序的报文段，也要立即发出对已收到的报文段的重复确认。</p>
<h4 id="快恢复算法"><a href="#快恢复算法" class="headerlink" title="快恢复算法"></a>快恢复算法</h4><p>当发送端收到连续三个重复的确认时，不执行慢开始算法，而是执行快恢复算法 FR (Fast Recovery) 算法：<br>慢开始门限 ssthresh = 当前拥塞窗口 cwnd / 2 ；<br>乘法减小 MD (Multiplicative Decrease) 拥塞窗口。<br>     新拥塞窗口 cwnd = 慢开始门限 ssthresh ；<br>执行拥塞避免算法，使拥塞窗口缓慢地线性增大（加法增大 AI）。<br><img src="https://img-blog.csdnimg.cn/5b1efc0b0bf146758a2e714aa686a8ca.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>执行快重传和快恢复算法：发送方调整门限值 ssthresh = cwnd / 2 = 8，设置拥塞窗口 cwnd = ssthresh = 8，开始执行拥塞避免算法。</p>
<h3 id="5-8-3-主动队列管理-AQM"><a href="#5-8-3-主动队列管理-AQM" class="headerlink" title="5.8.3 主动队列管理 AQM"></a>5.8.3 主动队列管理 AQM</h3><h2 id="5-9-TCP-的运输连接管理"><a href="#5-9-TCP-的运输连接管理" class="headerlink" title="5.9 TCP 的运输连接管理"></a>5.9 TCP 的运输连接管理</h2><p><font color='red'> 三次握手</font></p>
<h3 id="5-9-1-TCP-的连接建立"><a href="#5-9-1-TCP-的连接建立" class="headerlink" title="5.9.1 TCP 的连接建立"></a>5.9.1 TCP 的连接建立</h3><p>TCP 建立连接的过程叫做握手。<br>采用三报文握手：在客户和服务器之间交换三个 TCP 报文段，以防止已失效的连接请求报文段突然又传送到了，因而产生 TCP 连接建立错误。<br><img src="https://img-blog.csdnimg.cn/d3110a45abc24dca9da6284c4cd61a17.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="5-9-2-TCP-的连接释放"><a href="#5-9-2-TCP-的连接释放" class="headerlink" title="5.9.2 TCP 的连接释放"></a>5.9.2 TCP 的连接释放</h3><p><img src="https://img-blog.csdnimg.cn/42903fa978a14e208962a123671acc97.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/5a1f83d1689a4468bfd5a221bc711f72.png" alt="在这里插入图片描述"></p>
<h3 id="5-9-3-TCP-的有限状态机"><a href="#5-9-3-TCP-的有限状态机" class="headerlink" title="5.9.3 TCP 的有限状态机"></a>5.9.3 TCP 的有限状态机</h3><h1 id="第-6-章-应用层"><a href="#第-6-章-应用层" class="headerlink" title="第 6 章 应用层"></a>第 6 章 应用层</h1><h2 id="6-1-域名系统-DNS"><a href="#6-1-域名系统-DNS" class="headerlink" title="6.1 域名系统 DNS"></a>6.1 域名系统 DNS</h2><p><font color='red'> DNS53,TFTP69</font><br>DNS服务器使用熟知端口号码为53，TFTP服务器使用熟知端口号码为69。</p>
<h3 id="6-1-1-域名系统概述"><a href="#6-1-1-域名系统概述" class="headerlink" title="6.1.1 域名系统概述"></a>6.1.1 域名系统概述</h3><h3 id="6-1-2-互联网的域名结构"><a href="#6-1-2-互联网的域名结构" class="headerlink" title="6.1.2 互联网的域名结构"></a>6.1.2 互联网的域名结构</h3><h3 id="6-1-3-域名服务器"><a href="#6-1-3-域名服务器" class="headerlink" title="6.1.3 域名服务器"></a>6.1.3 域名服务器</h3><h2 id="6-4-万维网-WWW"><a href="#6-4-万维网-WWW" class="headerlink" title="6.4 万维网 WWW"></a>6.4 万维网 WWW</h2><h3 id="6-4-1-万维网概述"><a href="#6-4-1-万维网概述" class="headerlink" title="6.4.1 万维网概述"></a>6.4.1 万维网概述</h3><h3 id="6-4-2-统一资源定位符-URL"><a href="#6-4-2-统一资源定位符-URL" class="headerlink" title="6.4.2 统一资源定位符 URL"></a>6.4.2 统一资源定位符 URL</h3><p><img src="https://img-blog.csdnimg.cn/a75a9ab9022c43b6a46e79b405908f64.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/5cf99356d85d4b6db8e17a73d6bf9dbb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAc2l4KuOAgg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="6-4-3-超文本传送协议-HTTPHTTP"><a href="#6-4-3-超文本传送协议-HTTPHTTP" class="headerlink" title="6.4.3 超文本传送协议 HTTPHTTP"></a>6.4.3 超文本传送协议 HTTPHTTP</h3><p>是面向事务的 (transaction-oriented) 应用层协议。<br>使用 TCP 连接进行可靠的传送。<br>定义了浏览器与万维网服务器通信的格式和规则。<br>是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。<br><font color='red'> 协议 HTTP/1.0 的主要缺点</font><br><strong>每请求一个文档就要有两倍 RTT 的开销。<br>客户和服务器每一次建立新的 TCP 连接都要分配缓存和变量。<br>这种非持续连接使服务器的负担很重。</strong></p>
<h2 id="6-6-动态主机配置协议-DHCP"><a href="#6-6-动态主机配置协议-DHCP" class="headerlink" title="6.6 动态主机配置协议 DHCP"></a>6.6 动态主机配置协议 DHCP</h2><p><font color='red'> DHCP协议租约续签的时间是 50%和87.5%</font></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2022/03/21/%E8%AE%A1%E7%BD%91/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/2022/03/20/Javascript%E4%B8%93%E6%A0%8F-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-%E6%9C%AA%E5%AE%8C/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">Javascript专栏(一)_类型转换-未完</div>
      </a>
    
  </nav>

  
   
    
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2022
        <i class="ri-heart-fill heart_icon"></i> Jxx-sixhh
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Welcome to jxx&#39;s blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/web%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Web前端知识</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/JavaScript/">JavaScript专栏</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E5%85%AB%E8%82%A1%E6%96%87/">八股文</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=1873321491&auto=0&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>